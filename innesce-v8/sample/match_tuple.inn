
-- Match on a tuple returned by asm-expr, with mixed element types (i32 + ms)
fn main() -> i32 with [Hot, time] is
  let (x, t): (i32, ms) := asm {
    intel;
    outs ={eax}(_), ={ebx}(_);
    ins  i(5), i(1500);
    clobbers cc;
    body: mov eax, 5; mov ebx, 1500;
  };
  match (asm { intel; outs ={eax}(_), ={ebx}(_); ins i(x), i(t); body: mov eax, x; mov ebx, t; }) is
    case (5, 1500 ms) => 
      return 1;
    case (5, _) =>
      return 2;
    default => 
      return 0;
  end
end
